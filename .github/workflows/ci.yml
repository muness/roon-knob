name: CI

on:
  push: {}
  pull_request: {}

jobs:
  build-pc:
    name: Build PC Simulator
    runs-on: macos-latest
    steps:
      - uses: actions/checkout@v4
      - name: Install dependencies
        run: |
          brew install cmake ninja sdl2 curl
      - name: Configure & build
        run: |
          cmake -S pc_sim -B build/pc_sim -G Ninja
          cmake --build build/pc_sim
      - name: JSON unit test
        run: python tests/test_json_parse.py
